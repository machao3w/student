<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.machao.student.dao.StudentMapper" >
  <resultMap id="BaseResultMap" type="com.machao.student.entity.Student" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 15 14:48:54 CST 2019.
    -->
    <result column="number" property="number" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="VARCHAR" />
    <result column="grade" property="grade" jdbcType="INTEGER" />
    <result column="class" property="class" jdbcType="INTEGER" />
  </resultMap>
  <resultMap id="StudentAndGradeMap" type="com.machao.student.entity.Student" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 15 14:48:54 CST 2019.
    -->
    <result column="number" property="number" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="VARCHAR" />
    <result column="grade" property="grade" jdbcType="INTEGER" />
    <result column="class" property="class" jdbcType="INTEGER" />
      <collection property="gradeMid" ofType="com.machao.student.entity.GradeMid">
        <result column="number" property="number" jdbcType="VARCHAR" />
        <result column="chinese" property="chinese" javaType="VARCHAR" />
        <result column="math" property="math" javaType="VARCHAR" />
        <result column="english" property="english" javaType="VARCHAR" />
        <result column="physics" property="physics" javaType="VARCHAR" />
        <result column="chemistry" property="chemistry" javaType="VARCHAR" />
        <result column="geography" property="geography" javaType="VARCHAR" />
        <result column="politics" property="politics" javaType="VARCHAR" />
        <result column="history" property="history" javaType="VARCHAR" />
        <result column="biography" property="biography" javaType="VARCHAR" />
      </collection>
  </resultMap>
  <insert id="insert" parameterType="com.machao.student.entity.Student" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 15 14:48:54 CST 2019.
    -->
    insert into student_info (number, name, sex, 
      grade, class)
    values (#{number,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR}, 
      #{grade,jdbcType=INTEGER}, #{class,jdbcType=INTEGER})
  </insert>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 15 14:48:54 CST 2019.
    -->
    select number, name, sex, grade, class
    from student_info
  </select>

  <select id="selectByPage01"  resultMap="StudentAndGradeMap">
    select number, name, sex, grade, classes,#{projects} from student_info stu
            inner join grade_mid gm on stu.number = gm.number
            where number = #{number} and name_english like #{name}
            and grade = #{grade} and classes = #{classes}
  </select>

</mapper>